<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:c="http://java.sun.com/jstl/core"
        xmlns:fn="http://java.sun.com/jsp/jstl/functions"
        xmlns:ui="http://java.sun.com/jsf/facelets">

  <ui:composition>

    <h:form>

      <table width="100%" id="MAIN_MENU_TABLE" border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td>
              <h:panelGroup layout="block"
                            styleClass="ipsLogo"
                            rendered="#{view.viewId != '/login.xhtml'}" >
                <h:graphicImage value="/logo/1" height="49"/>
                <!--<img src="/resources/skins/araks/images/logo_araks.png"/>-->
              </h:panelGroup>
          </td>

          <td width="100%">
            <div class="menuTitle">
              <h:outputText value="#{bundle['app.title']}"/>

              <div class="settingButtons">
                <c:set var="profile"   value="${fn:contains(view.viewId, '/profilepage.xhtml')}"/>
                <c:set var="settings"  value="${fn:contains(view.viewId, '/settings.xhtml')}"/>

                <h:panelGrid columns="8">

                  <h:commandLink value="#{bundle['settings.profile.button']}"
                                 action="PROFILE"
                                 rendered="#{userSession.authenticated}"
                                 styleClass="#{profile ? 'exitButtonSelected' : 'exitButton'}"/>

                  <h:outputText value=" | " rendered="#{userSession.authenticated}" styleClass="settingsSeparator"/>

                  <h:commandLink value="#{bundle['settings.managersettings.button']}"
                                 action="MANAGER_SETTINGS"
                                 rendered="#{userSession.authenticated}"
                                 styleClass="#{settings ? 'exitButtonSelected' : 'exitButton'}"/>

                  <h:outputText value=" | " rendered="#{userSession.authenticated}" styleClass="settingsSeparator"/>

                  <h:commandLink value="#{bundle['settings.exit.button']}"
                                 action="#{userSession.logout}"
                                 rendered="#{userSession.authenticated}"
                                 styleClass="exitButton"/>

                  <h:commandLink title="Русский"
                                 action="#{localeController.changeLocale}"
                                 style="margin-left:15px">
                    <h:graphicImage
                        value="#{resources.path}/resources/images/ru.png"/>
                    <f:param name="lang" value="ru"/>
                    <f:param name="param" value="#{param}"/>
                  </h:commandLink>

                  <h:commandLink title="English"
                                 action="#{localeController.changeLocale}"
                                 style="margin-left:3px">
                    <h:graphicImage
                        value="#{resources.path}/resources/images/us.png"/>
                    <f:param name="lang" value="en"/>
                    <f:param name="param" value="#{param}"/>
                  </h:commandLink>

                  <h:commandLink title="Slovencina"
                                 action="#{localeController.changeLocale}"
                                 style="margin-left:3px">
                    <h:graphicImage
                        value="#{resources.path}/resources/images/sk.png"/>
                    <f:param name="lang" value="sk"/>
                    <f:param name="param" value="#{param}"/>
                  </h:commandLink>

                </h:panelGrid>
              </div>
            </div>

            <div class="menuButtons">
              <c:set var="surveyList"   value="${fn:contains(view.viewId, 'pages/surveys')}"/>
              <c:set var="clientsList"  value="${fn:contains(view.viewId, 'pages/clients')}"/>
              <c:set var="numbersList"  value="${fn:contains(view.viewId, 'pages/admin/accessNumbers')}"/>

              <h:panelGroup rendered="#{userSession.authenticated}">
                <h:commandLink value="#{bundle['main.menu.surveys']}"
                               action="SURVEY_LIST"
                               styleClass="#{surveyList ? 'menuButtonSelected' : 'menuButton'}"
                               rendered="#{userSession.surveyViewAllowed}"/>
                <h:commandLink value="#{bundle['main.menu.clients']}"
                               action="CLIENT_LIST"
                               styleClass="#{clientsList ? 'menuButtonSelected' : 'menuButton'}"
                               rendered="#{userSession.managerRole}"/>
                <h:commandLink value="#{bundle['main.menu.c2snumbers']}"
                               action="ACCESS_NUMBERS"
                               styleClass="#{numbersList ? 'menuButtonSelected' : 'menuButton'}"
                               rendered="#{userSession.c2sAllowed}"/>
              </h:panelGroup>
            </div>
          </td>
        </tr>
      </table>

    </h:form>


  </ui:composition>

</f:view>